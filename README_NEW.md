# Persona-AI: ì§€ëŠ¥í˜• ìŒì„± ê¸°ë°˜ ì¸ë¬¼ í”„ë¡œí•„ ë° Q&A ì‹œìŠ¤í…œ

> íšŒì˜ ìŒì„±ì„ ì‹¤ì‹œê°„ìœ¼ë¡œ ì²˜ë¦¬í•˜ì—¬ ì°¸ì„ìë³„ ë””ì§€í„¸ í˜ë¥´ì†Œë‚˜ë¥¼ ìƒì„±í•˜ê³ , QLoRAë¥¼ í†µí•œ ê°œì¸í™”ëœ ì‘ë‹µì„ ì œê³µí•˜ëŠ” Python ê¸°ë°˜ ë°ìŠ¤í¬í†± ì• í”Œë¦¬ì¼€ì´ì…˜

## ğŸ“‹ ëª©ì°¨

1. [ì‹œìŠ¤í…œ ê°œìš”](#ì‹œìŠ¤í…œ-ê°œìš”)
2. [ì£¼ìš” ê¸°ëŠ¥](#ì£¼ìš”-ê¸°ëŠ¥)
3. [ì•„í‚¤í…ì²˜](#ì•„í‚¤í…ì²˜)
4. [ì„¤ì¹˜ ë° ì‹¤í–‰](#ì„¤ì¹˜-ë°-ì‹¤í–‰)
5. [ì£¼ìš” ëª¨ë“ˆ ì„¤ëª…](#ì£¼ìš”-ëª¨ë“ˆ-ì„¤ëª…)
6. [í˜„ì¬ ìƒíƒœ ë° ê¸°ìˆ  ë¶€ì±„](#í˜„ì¬-ìƒíƒœ-ë°-ê¸°ìˆ -ë¶€ì±„)
7. [ë¦¬íŒ©í† ë§ ê³„íš](#ë¦¬íŒ©í† ë§-ê³„íš)

---

## ì‹œìŠ¤í…œ ê°œìš”

### í•µì‹¬ ê¸°ëŠ¥
- **ì‹¤ì‹œê°„ ìŒì„± ìº¡ì²˜**: íšŒì˜ ì¤‘ ë°œì–¸ìë³„ë¡œ ìŒì„±ì„ ìë™ìœ¼ë¡œ êµ¬ë¶„í•˜ê³  í…ìŠ¤íŠ¸ ë³€í™˜
- **í™”ì ì‹ë³„**: pyannoteë¥¼ ì´ìš©í•œ ìë™ í™”ì êµ¬ë¶„ ë° ìŒì„± ì„ë² ë”© ê¸°ë°˜ ì‹ë³„
- **ë””ì§€í„¸ í˜ë¥´ì†Œë‚˜ ìƒì„±**: ê° ì°¸ì„ìì˜ ë§íˆ¬, ì„±ê²©, ì „ë¬¸ì„±ì„ í•™ìŠµí•œ í”„ë¡œí•„ ìë™ ìƒì„±
- **QLoRA ê°œì¸í™”**: Kanana 2.1B ëª¨ë¸ì— QLoRA ì–´ëŒ‘í„°ë¥¼ í†µí•´ í™”ìë³„ ë§ì¶¤ ì‘ë‹µ ì œê³µ
- **RAG ê¸°ë°˜ Q&A**: íšŒì˜ ë‚´ìš© ë° ì—…ë¡œë“œëœ ë¬¸ì„œë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì§€ëŠ¥í˜• ê²€ìƒ‰ ë° ë‹µë³€
- **íšŒì˜ ìë™ ë¶„ì„**: ìš”ì•½, ì•¡ì…˜ ì•„ì´í…œ, ê²°ì •ì‚¬í•­ ì¶”ì¶œ ë° ì‹œê°í™”
- **ë‹¤ì¤‘ LLM ì§€ì›**: OpenAI, Ollama, Kanana, Midm, A.X ë“± ì—¬ëŸ¬ ë°±ì—”ë“œ ì§€ì›

### ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤
1. **íšŒì˜ ì§„í–‰**: ë§ˆì´í¬ ì—°ê²° â†’ ë…¹ìŒ ì‹œì‘ â†’ ìë™ í™”ì ì¸ì‹ ë° í…ìŠ¤íŠ¸í™”
2. **ì°¸ì„ì í•™ìŠµ**: 20ê°œ ì´ìƒì˜ ë°œì–¸ ìˆ˜ì§‘ í›„ QLoRA ëª¨ë¸ ìë™ í•™ìŠµ
3. **ë§ì¶¤ Q&A**: ì±„íŒ…ì°½ì—ì„œ "ë°•íŒ€ì¥ì´ ì–´ë–»ê²Œ ìƒê°í•´?" ê°™ì€ ì§ˆë¬¸ â†’ ê°œì¸í™”ëœ ì‘ë‹µ

---

## ì£¼ìš” ê¸°ëŠ¥

### 1. ì‹¤ì‹œê°„ ìŒì„± ì²˜ë¦¬ íŒŒì´í”„ë¼ì¸
```
ë§ˆì´í¬ ì…ë ¥ (PyAudio/Sounddevice)
  â†“
6ì´ˆ ë‹¨ìœ„ ì²­í¬ ë¶„í• 
  â†“
STT (Faster-Whisper Small)
  â†“
í™”ì ìŒì„± ì„ë² ë”© ì¶”ì¶œ (Pyannote)
  â†“
ì„¸ê·¸ë¨¼íŠ¸ ìƒì„± {speaker_id, text, start, end}
  â†“
30ì´ˆë§ˆë‹¤ ìŒì„± ë¶„ë¦¬ (Pyannote Diarization)
  â†“
RAG ìŠ¤í† ì–´ + ë””ì§€í„¸ í˜ë¥´ì†Œë‚˜ì— ì €ì¥
```

### 2. í™”ì ì‹ë³„ ë° ê´€ë¦¬
- **ìë™ ì‹ë³„**: ìŒì„± ì„ë² ë”© ê¸°ë°˜ ì½”ì‚¬ì¸ ìœ ì‚¬ë„ ë§¤ì¹­
- **í”„ë¡œí•„ ìƒì„±**: Speaker ê°ì²´ ìƒì„± í›„ SpeakerManagerì— ë“±ë¡
- **ë©”íƒ€ë°ì´í„° ì¶”ì **: ì´ë¦„, ë¶€ì„œ, ì—­í• , ìŒì„± ì„ë² ë”© ì‹ ë¢°ë„

### 3. ë””ì§€í„¸ í˜ë¥´ì†Œë‚˜ ìƒì„±
ê° í™”ìì— ëŒ€í•´ ì €ì¥ë˜ëŠ” ì •ë³´:
```python
DigitalPersona:
  - speaker_id: "speaker_01"
  - display_name: "ë°•íŒ€ì¥"
  - voice_embedding: 512ì°¨ì› ë²¡í„°
  - role: "íŒ€ì¥"
  - department: "AIíŒ€"
  - expertise: ["Python", "ML", "ì¸í”„ë¼"]
  - personality_keywords: ["ë…¼ë¦¬ì ", "ë¹ ë¥¸ê²°ì •", "íŒ€ì§€í–¥ì "]
  - communication_style: {tone: "ì§ì„¤ì ", format: "ê°œì¡°ì‹"}
  - speech_patterns: {common_phrases: [...], sentence_endings: [...]}
  - qlora_adapter_path: "adapters/speaker_01/final"
  - utterance_count: 42
  - meeting_count: 5
```

### 4. QLoRA ê°œì¸í™” í•™ìŠµ
**íƒ€ì´ë°**:
- íšŒì˜ ëë‚  ë•Œ ìë™ íŠ¸ë¦¬ê±°
- íŒŒì¼ ì—…ë¡œë“œ í›„ ìë™ íŠ¸ë¦¬ê±°

**í”„ë¡œì„¸ìŠ¤**:
1. í™”ìì˜ 20ê°œ ì´ìƒ ë°œì–¸ ìˆ˜ì§‘ (3ë‹¨ì–´ ì´ìƒ í•„í„°ë§)
2. Instruction-following ë°ì´í„°ì…‹ ìë™ ìƒì„±
3. Kanana-1.5-2.1B ëª¨ë¸ ê¸°ë°˜ QLoRA í•™ìŠµ (2 ì—í¬í¬)
4. ì–´ëŒ‘í„° ì €ì¥: `adapters/speaker_id/final/adapter_model.safetensors`

**ì ìš©**:
- ì±„íŒ…ì—ì„œ í™”ì ì„ íƒ â†’ í•´ë‹¹ ì–´ëŒ‘í„° ë¡œë“œ
- Kanana ëª¨ë¸ + ì–´ëŒ‘í„° = ê°œì¸í™”ëœ ì‘ë‹µ ìƒì„±
- ë©”ëª¨ë¦¬ ìµœì í™”: í•„ìš”í•  ë•Œë§Œ ë¡œë“œ, ì‚¬ìš© í›„ ì–¸ë¡œë“œ

### 5. RAG ê¸°ë°˜ ì§€ëŠ¥í˜• ê²€ìƒ‰
**ë°ì´í„° ì €ì¥**:
- **Vector DB**: Qdrant (ë¡œì»¬ ì˜êµ¬ ì €ì¥)
- **ì»¬ë ‰ì…˜**:
  - `meeting_ctx`: íšŒì˜ ë°œì–¸ (100+ ì„ë² ë”©)
  - `project_docs`: ì—…ë¡œë“œ ë¬¸ì„œ (ìë™ ì²­í‚¹)
- **ì„ë² ë”© ëª¨ë¸**: dragonkue/BGE-m3-ko (ë‹¤êµ­ì–´ ì§€ì›)

**ê²€ìƒ‰ í”„ë¡œì„¸ìŠ¤**:
1. ì‚¬ìš©ì ì§ˆë¬¸ â†’ ì„ë² ë”© ë³€í™˜
2. Qdrantì—ì„œ ìƒìœ„ 3ê°œ ê´€ë ¨ ë°œì–¸ ê²€ìƒ‰
3. LLM í”„ë¡¬í”„íŠ¸ì— ì»¨í…ìŠ¤íŠ¸ë¡œ í¬í•¨
4. í˜ë¥´ì†Œë‚˜ ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ + RAG ì»¨í…ìŠ¤íŠ¸ + ì§ˆë¬¸

### 6. íšŒì˜ ìë™ ë¶„ì„
**ìš”ì•½ ìƒì„±**:
- 3-5ê°œ ë¬¸ì¥ í•œêµ­ì–´ ìš”ì•½
- ì£¼ìš” ì£¼ì œ ì¶”ì¶œ ë° ì‹œê°„ëŒ€ë³„ íƒ€ì„ë¼ì¸

**ì•¡ì…˜ ì•„ì´í…œ ì¶”ì¶œ**:
- ë‹´ë‹¹ì ì‹ë³„
- ë§ˆê°ì¼ ìë™ ì„¤ì • (30ì¼ ê¸°ë³¸)
- ìš°ì„ ìˆœìœ„ (ë†’ìŒ/ì¤‘ê°„/ë‚®ìŒ)

**ê²°ì •ì‚¬í•­ & ì´ìŠˆ**:
- íšŒì˜ ì¤‘ ê²°ì •ëœ ì‚¬í•­ ìë™ ë¶„ë¥˜
- ë¯¸í•´ê²° ì´ìŠˆ ì¶”ì 

---

## ì•„í‚¤í…ì²˜

### ì‹œìŠ¤í…œ êµ¬ì„±ë„
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    PySide6 GUI (app.py)                      â”‚
â”‚                    MeetingConsole (Main Window)              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â”‚  Meeting Tab    â”‚  â”‚  Chat Dock       â”‚  â”‚  Documents   â”‚
â”‚  â”‚                 â”‚  â”‚  (Personalized   â”‚  â”‚  Tab         â”‚
â”‚  â”‚  - Recording    â”‚  â”‚   Q&A)           â”‚  â”‚              â”‚
â”‚  â”‚  - Segments     â”‚  â”‚                  â”‚  â”‚  - Upload    â”‚
â”‚  â”‚  - Settings     â”‚  â”‚  - LLM Selection â”‚  â”‚  - Search    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚           â”‚                    â”‚                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚           â”‚                    â”‚                   â”‚         â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚    â”‚ Audio Core  â”‚      â”‚ LLM Router  â”‚   â”‚  RAG Store   â”‚  â”‚
â”‚    â”œâ”€ audio.py  â”‚      â”œâ”€ router.py  â”‚   â”œâ”€ rag_store.pyâ”‚  â”‚
â”‚    â”œâ”€ STT       â”‚      â”œâ”€ OpenAI     â”‚   â”œâ”€ Qdrant DB   â”‚  â”‚
â”‚    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜      â”œâ”€ Kanana     â”‚   â”‚              â”‚  â”‚
â”‚          â”‚             â”œâ”€ Ollama     â”‚   â”‚ - meeting_ctx â”‚  â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”      â”œâ”€ Midm       â”‚   â”‚ - project_docsâ”‚  â”‚
â”‚    â”‚Diarization â”‚      â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚    â”œâ”€diart.py  â”‚             â”‚                              â”‚
â”‚    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜        â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚          â”‚               â”‚ Adapter      â”‚                   â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ Manager      â”‚                   â”‚
â”‚    â”‚ Speaker Manager  â”‚  â”œâ”€ adapter.py â”‚                   â”‚
â”‚    â”œâ”€ speaker.py     â”‚  â”œâ”€ QLoRA       â”‚                   â”‚
â”‚    â”œâ”€ VoiceStore     â”‚  â”œâ”€ 4-bit Quantâ”‚                   â”‚
â”‚    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â”‚          â”‚                                                  â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                              â”‚
â”‚    â”‚Digital Persona Manager â”‚                              â”‚
â”‚    â”œâ”€ digital_persona.py   â”‚                              â”‚
â”‚    â”œâ”€ Persona profiles     â”‚                              â”‚
â”‚    â”œâ”€ Speech patterns      â”‚                              â”‚
â”‚    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                              â”‚
â”‚          â”‚                                                  â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”‚
â”‚    â”‚ Training Pipeline          â”‚                           â”‚
â”‚    â”œâ”€ persona_training.py      â”‚                           â”‚
â”‚    â”œâ”€ QLoRA Dataset Gen        â”‚                           â”‚
â”‚    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â”‚
â”‚          â”‚                                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚          â”‚                                                  â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                              â”‚
â”‚    â”‚ Data Persistence       â”‚                              â”‚
â”‚    â”œâ”€ Filesystem JSON       â”‚                              â”‚
â”‚    â”‚  â””â”€ data/persona/      â”‚                              â”‚
â”‚    â”‚  â””â”€ data/meetings/     â”‚                              â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                              â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### í•µì‹¬ ë°ì´í„° íë¦„

#### 1ï¸âƒ£ ë¼ì´ë¸Œ íšŒì˜ ìº¡ì²˜ íë¦„
```
PyAudio/Sounddevice (ë§ˆì´í¬)
    â†“
AudioWorker (async)
â”œâ”€ 6ì´ˆ ì²­í¬ë¡œ ë¶„í• 
â”œâ”€ Faster-Whisperë¡œ STT
â”œâ”€ Pyannoteë¡œ í™”ì ìŒì„± ì„ë² ë”© ì¶”ì¶œ
â””â”€ Segment ê°ì²´ ìƒì„±: {speaker_id, text, start, end, embedding}
    â†“
DiarizationWorker (30ì´ˆ ë§ˆë‹¤ async)
â”œâ”€ Pyannote Diarization ì‹¤í–‰
â”œâ”€ í™”ì ìë™ ì‹ë³„ ë° í• ë‹¹
â””â”€ ìƒˆ í™”ì ê°ì§€ ì‹œ ì‹ í˜¸ ë°œìƒ
    â†“
MeetingConsole ìˆ˜ì‹ 
â”œâ”€ UIì— ì„¸ê·¸ë¨¼íŠ¸ í‘œì‹œ
â”œâ”€ RAG Storeì— ì €ì¥ (meeting_ctx)
â”œâ”€ DigitalPersonaì— ë°œì–¸ ì¶”ê°€ (+utterance_count)
â””â”€ í™”ì 20+ ë°œì–¸ ë„ë‹¬ ì‹œ í•™ìŠµ ì¤€ë¹„ ì‹ í˜¸
```

#### 2ï¸âƒ£ ë§ì¶¤í˜• Q&A íë¦„
```
ì‚¬ìš©ì: "ë°•íŒ€ì¥ì´ ì–´ë–»ê²Œ ìƒê°í•´?"
    â†“
ChatDock.on_send()
â”œâ”€ í™”ì ì„ íƒ: speaker_01 (ë°•íŒ€ì¥)
â”œâ”€ RAG ê²€ìƒ‰: query â†’ "ë°•íŒ€ì¥ì´" ê´€ë ¨ ë°œì–¸ ìƒìœ„ 3ê°œ
â”œâ”€ DigitalPersona ë¡œë“œ: ì„±ê²©, ë§íˆ¬, ì „ë¬¸ì„±
â””â”€ í˜ë¥´ì†Œë‚˜ ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ êµ¬ì„±
    â†“
LLMRouter.complete()
â”œâ”€ í˜„ì¬ ë°±ì—”ë“œ í™•ì¸ (ì˜ˆ: kanana)
â”œâ”€ Kananaê°€ ì„ íƒë¨ â†’ AdapterManager í™•ì¸
â”œâ”€ speaker_01 ì–´ëŒ‘í„° ë¡œë“œ (í•„ìš”ì‹œ)
â””â”€ generate() ì‹¤í–‰
    â”‚
    â”œâ”€ í™œì„± ì–´ëŒ‘í„° ìˆìŒ: base_model + adapter ì‚¬ìš©
    â”‚  (QLoRA: ë°•íŒ€ì¥ì˜ ë§íˆ¬ ë°˜ì˜ëœ ì‘ë‹µ)
    â”‚
    â””â”€ ì–´ëŒ‘í„° ì—†ìŒ: base_modelë§Œ ì‚¬ìš©
        (ì¼ë°˜ì ì¸ Kanana ì‘ë‹µ)
    â†“
ChatDock í‘œì‹œ
â”œâ”€ í™”ì ì•„ë°”íƒ€
â”œâ”€ ê°œì¸í™”ëœ ì‘ë‹µ
â””â”€ RAG ì»¨í…ìŠ¤íŠ¸ ì¸ìš©
```

#### 3ï¸âƒ£ QLoRA í•™ìŠµ íë¦„
```
íšŒì˜ ì¢…ë£Œ ë˜ëŠ” íŒŒì¼ ì—…ë¡œë“œ
    â†“
UploadMinutes.check_training_threshold()
    â”œâ”€ í™”ìë³„ ìœ íš¨ ë°œì–¸ ìˆ˜ ê³„ì‚°
    â”‚  (í•„í„°ë§: 3ë‹¨ì–´ ë¯¸ë§Œ ì œì™¸)
    â”œâ”€ 20ê°œ ì´ìƒ â†’ PersonaDatasetGenerator
    â””â”€ ìš”ì²­ ìƒì„±, ì£¼ì œ ì¶”ì¶œ
        â†“
PersonaTrainingWorker (async QThread)
â”œâ”€ Kanana ê¸°ë³¸ ëª¨ë¸ ë¡œë“œ
â”‚  â””â”€ 4-bit BitsAndBytes ì–‘ìí™”
â”œâ”€ LoRA ì–´ëŒ‘í„° ì„¤ì • (r=16, alpha=32)
â”œâ”€ ìˆ˜ì§‘ëœ ë°œì–¸ ê¸°ë°˜ ë°ì´í„°ì…‹
â”‚  â”œâ”€ Instruction: "ë°•íŒ€ì¥ì´ {topic}ì— ëŒ€í•´ ì„¤ëª…í•´ì¤„ê¹Œ?"
â”‚  â”œâ”€ Input: "{context}"
â”‚  â””â”€ Output: "{utterance}"
â”œâ”€ í•™ìŠµ ì‹¤í–‰ (2 epochs)
â”‚  â””â”€ ì§„í–‰ë¥  UI ì—…ë°ì´íŠ¸
â””â”€ ì–´ëŒ‘í„° ì €ì¥: adapters/speaker_01/final/
    â”œâ”€ adapter_model.safetensors
    â”œâ”€ adapter_config.json
    â””â”€ metadata.json (speaker_name, utterance_count, ...)
        â†“
ì±„íŒ…ì—ì„œ ì‚¬ìš© ê°€ëŠ¥
â””â”€ speaker_01 ì„ íƒ â†’ ì–´ëŒ‘í„° ìë™ í™œì„±í™”
```

### ë””ë ‰í„°ë¦¬ êµ¬ì¡°
```
Persona-AI/
â”œâ”€â”€ app.py                          # ë©”ì¸ ì§„ì…ì  (í™˜ê²½ì„¤ì •, GUI ì‹œì‘)
â”‚
â”œâ”€â”€ core/                           # í•µì‹¬ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ (31ê°œ ëª¨ë“ˆ)
â”‚   â”œâ”€â”€ Audio & STT
â”‚   â”‚   â”œâ”€â”€ audio.py               # ì‹¤ì‹œê°„ ìŒì„± ë…¹ìŒ, STT ì²˜ë¦¬
â”‚   â”‚   â”œâ”€â”€ diarization.py         # í™”ì ë¶„ë¦¬ (Pyannote Diarization)
â”‚   â”‚   â”œâ”€â”€ stt_stream.py          # Faster-Whisper ìŠ¤íŠ¸ë¦¬ë°
â”‚   â”‚
â”‚   â”œâ”€â”€ Speaker Management
â”‚   â”‚   â”œâ”€â”€ speaker.py             # Speaker í´ë˜ìŠ¤ ë° SpeakerManager
â”‚   â”‚   â”œâ”€â”€ voice_store.py         # ìŒì„± ì„ë² ë”© ë²¡í„°DB (Qdrant)
â”‚   â”‚
â”‚   â”œâ”€â”€ Persona & Personalization
â”‚   â”‚   â”œâ”€â”€ digital_persona.py     # DigitalPersona í´ë˜ìŠ¤ (í†µí•© í”„ë¡œí•„)
â”‚   â”‚   â”œâ”€â”€ persona_store.py       # í˜ë¥´ì†Œë‚˜ JSON ì €ì¥ì†Œ
â”‚   â”‚   â”œâ”€â”€ adapter.py             # QLoRA ì–´ëŒ‘í„° ê´€ë¦¬ (ë¡œë“œ/ì–¸ë¡œë“œ/ìƒì„±)
â”‚   â”‚   â”œâ”€â”€ persona.py             # ë ˆê±°ì‹œ í˜ë¥´ì†Œë‚˜ ë¡œë” (deprecated)
â”‚   â”‚
â”‚   â”œâ”€â”€ LLM Backend
â”‚   â”‚   â”œâ”€â”€ llm_router.py          # LLM ë¼ìš°í„° (íŒ©í† ë¦¬ íŒ¨í„´)
â”‚   â”‚   â”œâ”€â”€ llm_base.py            # LLM ê¸°ë³¸ ì¸í„°í˜ì´ìŠ¤
â”‚   â”‚   â”œâ”€â”€ llm_openai.py          # OpenAI API í†µí•©
â”‚   â”‚   â”œâ”€â”€ llm_kanana.py          # Kakao Kanana 2.1B ë¡œì»¬ ëª¨ë¸
â”‚   â”‚   â”œâ”€â”€ llm_ax.py              # SKT A.X-4.0 ëª¨ë¸
â”‚   â”‚   â”œâ”€â”€ llm_midm.py            # K-Intelligence Midm-2.0
â”‚   â”‚   â”œâ”€â”€ llm_ollama.py          # Ollama ë¡œì»¬ ëª¨ë¸ ë˜í¼
â”‚   â”‚   â”œâ”€â”€ llm_placeholder.py     # HTTP ì—”ë“œí¬ì¸íŠ¸ í´ë°±
â”‚   â”‚
â”‚   â”œâ”€â”€ RAG & Knowledge
â”‚   â”‚   â”œâ”€â”€ rag_store.py           # Qdrant ë²¡í„°DB í†µí•©
â”‚   â”‚   â”‚                          # - meeting_ctx (íšŒì˜ ë°œì–¸)
â”‚   â”‚   â”‚                          # - project_docs (ì—…ë¡œë“œ ë¬¸ì„œ)
â”‚   â”‚
â”‚   â”œâ”€â”€ Training & Learning
â”‚   â”‚   â”œâ”€â”€ persona_training.py    # QLoRA ë°ì´í„°ì…‹ ìƒì„±
â”‚   â”‚   â”œâ”€â”€ persona_training_worker.py  # ë¹„ë™ê¸° í•™ìŠµ ì‹¤í–‰
â”‚   â”‚
â”‚   â”œâ”€â”€ Analysis & Export
â”‚   â”‚   â”œâ”€â”€ summarizer.py          # íšŒì˜ ìš”ì•½, ì•¡ì…˜ ì¶”ì¶œ
â”‚   â”‚   â”œâ”€â”€ offline_meeting.py     # ì˜¤í”„ë¼ì¸ íŒŒì¼ ì²˜ë¦¬ íŒŒì´í”„ë¼ì¸
â”‚   â”‚   â”œâ”€â”€ notes_export.py        # Markdown â†’ HTML ë³€í™˜
â”‚   â”‚   â”œâ”€â”€ charts.py              # í†µê³„ ì‹œê°í™”
â”‚   â”‚   â”œâ”€â”€ schedule.py            # ì•¡ì…˜ ì•„ì´í…œ ìŠ¤ì¼€ì¤„ë§
â”‚   â”‚   â”œâ”€â”€ schedule_store.py      # ìŠ¤ì¼€ì¤„ ì˜êµ¬ ì €ì¥ì†Œ
â”‚   â”‚   â”œâ”€â”€ text_clean.py          # í…ìŠ¤íŠ¸ ì •ê·œí™”
â”‚   â”‚
â”‚   â”œâ”€â”€ Data Models
â”‚   â”‚   â””â”€â”€ schemas.py             # Pydantic ë°ì´í„° ëª¨ë¸
â”‚
â”‚â”€â”€ ui/                            # PySide6 GUI ì»´í¬ë„ŒíŠ¸ (9ê°œ ëª¨ë“ˆ)
â”‚   â”œâ”€â”€ meeting_console.py         # ë©”ì¸ ìœˆë„ìš° (83KB, ì „ì²´ ì¡°ìœ¨)
â”‚   â”œâ”€â”€ chat_dock.py              # í˜ë¥´ì†Œë‚˜ Q&A ì±„íŒ… (LLM í†µí•©)
â”‚   â”œâ”€â”€ meeting_settings.py       # ì˜¤ë””ì˜¤, ëª¨ë¸ ì„¤ì •
â”‚   â”œâ”€â”€ persona_management.py     # í™”ì í”„ë¡œí•„ ê´€ë¦¬
â”‚   â”œâ”€â”€ speaker_persona_widget.py # ê°œë³„ í˜ë¥´ì†Œë‚˜ í‘œì‹œ
â”‚   â”œâ”€â”€ upload_minutes.py         # íŒŒì¼ ì—…ë¡œë“œ ë° QLoRA í•™ìŠµ ì‹œì‘
â”‚   â”œâ”€â”€ survey_wizard.py          # í˜ë¥´ì†Œë‚˜ ì„¤ë¬¸ ë§ˆë²•ì‚¬
â”‚   â”œâ”€â”€ meeting_notes.py          # íšŒì˜ ìš”ì•½, ì•¡ì…˜ ë·°
â”‚   â””â”€â”€ documents_tab.py          # ë¬¸ì„œ ì—…ë¡œë“œ ë° RAG ê²€ìƒ‰
â”‚
â”œâ”€â”€ data/                         # ë°ì´í„° ì €ì¥ì†Œ
â”‚   â”œâ”€â”€ persona/                 # í˜ë¥´ì†Œë‚˜ JSON íŒŒì¼
â”‚   â”‚   â”œâ”€â”€ prompts.json        # ì „ì—­ ì„¤ì •
â”‚   â”‚   â””â”€â”€ speaker_01.json     # ê°œë³„ í™”ì í”„ë¡œí•„
â”‚   â”œâ”€â”€ meetings/               # íšŒì˜ ê¸°ë¡
â”‚   â”œâ”€â”€ docs/                   # ì—…ë¡œë“œëœ ë¬¸ì„œ
â”‚   â”œâ”€â”€ persona_datasets/       # QLoRA í•™ìŠµ ë°ì´í„°ì…‹
â”‚   â”œâ”€â”€ qdrant_db/              # ë²¡í„°DB (Qdrant)
â”‚   â”‚   â”œâ”€â”€ collection/
â”‚   â”‚   â”‚   â”œâ”€â”€ meeting_ctx/    # íšŒì˜ ë°œì–¸ ë²¡í„°
â”‚   â”‚   â”‚   â””â”€â”€ project_docs/   # ë¬¸ì„œ ë²¡í„°
â”‚   â”‚
â”œâ”€â”€ adapters/                   # QLoRA ì–´ëŒ‘í„° ì €ì¥ì†Œ
â”‚   â”œâ”€â”€ speaker_00/
â”‚   â”‚   â””â”€â”€ final/             # í•™ìŠµ ì™„ë£Œëœ ì–´ëŒ‘í„°
â”‚   â”‚       â”œâ”€â”€ adapter_model.safetensors
â”‚   â”‚       â”œâ”€â”€ adapter_config.json
â”‚   â”‚       â””â”€â”€ metadata.json
â”‚   â””â”€â”€ speaker_01/
â”‚       â””â”€â”€ final/
â”‚
â”œâ”€â”€ models/                     # ë¡œì»¬ ëª¨ë¸ ì €ì¥ì†Œ
â”‚   â”œâ”€â”€ kanana-1.5-2.1b-instruct/      # Kakao Kanana ê¸°ë³¸ ëª¨ë¸
â”‚   â”œâ”€â”€ K-intelligence_Midm-2.0.../    # Midm ëª¨ë¸
â”‚   â”œâ”€â”€ A.X-4.0-Light/                # A.X ëª¨ë¸
â”‚   â”œâ”€â”€ whisper-small/                # STT ëª¨ë¸
â”‚   â”œâ”€â”€ diart_model/                  # Diarization ëª¨ë¸
â”‚   â””â”€â”€ kanana-1.5-2.1b-instruct/
â”‚
â”œâ”€â”€ output/                     # ìƒì„±ëœ ì¶œë ¥
â”‚   â”œâ”€â”€ logs/                  # ì• í”Œë¦¬ì¼€ì´ì…˜ ë¡œê·¸
â”‚   â”‚   â”œâ”€â”€ app.log           # ë©”ì¸ ë¡œê·¸
â”‚   â”‚   â””â”€â”€ faulthandler.log  # í¬ë˜ì‹œ ë¡œê·¸
â”‚   â”œâ”€â”€ meetings/             # íšŒì˜ ìš”ì•½ HTML
â”‚   â””â”€â”€ recordings/           # ë…¹ìŒ WAV íŒŒì¼
â”‚
â”œâ”€â”€ docs/                      # ì¶”ê°€ ë¬¸ì„œ
â”œâ”€â”€ markdowns/                 # ë§ˆí¬ë‹¤ìš´ ìƒ˜í”Œ
â””â”€â”€ resources/                 # UI ë¦¬ì†ŒìŠ¤ (ì•„ì´ì½˜ ë“±)
```

---

## ì„¤ì¹˜ ë° ì‹¤í–‰

### í•„ìˆ˜ ìš”êµ¬ì‚¬í•­
- **OS**: Windows 10+ / macOS 10.14+ / Linux (Ubuntu 20.04+)
- **Python**: 3.10 ì´ìƒ
- **GPU**: NVIDIA GPU (CUDA 12.1+) ê¶Œì¥ (CPUë¡œ ì‹¤í–‰ ê°€ëŠ¥í•˜ë‚˜ ëŠë¦¼)
- **ë©”ëª¨ë¦¬**: ìµœì†Œ 16GB RAM, ê¶Œì¥ 32GB

### 1ë‹¨ê³„: ì €ì¥ì†Œ í´ë¡ 
```bash
git clone https://github.com/username/Persona-AI.git
cd Persona-AI
```

### 2ë‹¨ê³„: ê°€ìƒ í™˜ê²½ ì„¤ì •
```bash
python -m venv venv

# Windows
venv\Scripts\activate

# macOS/Linux
source venv/bin/activate
```

### 3ë‹¨ê³„: ì˜ì¡´ì„± ì„¤ì¹˜
```bash
pip install -r requirements.txt

# GPU ì§€ì› (CUDA 12.1)
pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu121

# ë˜ëŠ” CPUë§Œ (ëŠë¦¼)
pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cpu
```

### 4ë‹¨ê³„: í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
`.env` íŒŒì¼ ìƒì„±:
```env
# API Keys (ì„ íƒì‚¬í•­)
OPENAI_API_KEY=sk-...            # OpenAI API í‚¤ (OpenAI ë°±ì—”ë“œ ì‚¬ìš© ì‹œ)
HF_TOKEN=hf_...                  # HuggingFace í† í° (ëª¨ë¸ ë‹¤ìš´ë¡œë“œ)

# Device
FORCE_CPU=0                       # 1=CPUë§Œ ì‚¬ìš©, 0=GPU ì‚¬ìš© (ê¸°ë³¸)

# Model Paths
KANANA_MODEL_PATH=models/kanana-1.5-2.1b-instruct
WHISPER_MODEL_PATH=models/whisper-small
```

### 5ë‹¨ê³„: ëª¨ë¸ ë‹¤ìš´ë¡œë“œ (ì´ˆíšŒ)
```bash
python -c "
from transformers import AutoModelForCausalLM, AutoTokenizer
model = AutoModelForCausalLM.from_pretrained('kakaocorp/kanana-1.5-2.1b-instruct')
tokenizer = AutoTokenizer.from_pretrained('kakaocorp/kanana-1.5-2.1b-instruct')
print('[INFO] ëª¨ë¸ ë‹¤ìš´ë¡œë“œ ì™„ë£Œ')
"
```

### 6ë‹¨ê³„: ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰
```bash
python app.py
```

---

## ì£¼ìš” ëª¨ë“ˆ ì„¤ëª…

### Core ëª¨ë“ˆë³„ ìƒì„¸ ì„¤ëª…

#### ğŸ¤ Audio & Speech Processing
| ëª¨ë“ˆ | ì—­í•  | ì£¼ìš” í´ë˜ìŠ¤ |
|------|------|-----------|
| `audio.py` | ì‹¤ì‹œê°„ ìŒì„± ë…¹ìŒ, STT | `AudioWorker`, `Segment`, `MeetingState` |
| `diarization.py` | í™”ì ë¶„ë¦¬ (Pyannote) | `DiarizationWorker` |
| `stt_stream.py` | Faster-Whisper ìŠ¤íŠ¸ë¦¬ë° | `STTStreamWorker` |

**Flow**: PyAudio â†’ AudioWorker (6ì´ˆ ì²­í¬) â†’ STT â†’ Segment

#### ğŸ—£ï¸ Speaker Management
| ëª¨ë“ˆ | ì—­í•  | ì£¼ìš” í´ë˜ìŠ¤ |
|------|------|-----------|
| `speaker.py` | í™”ì í”„ë¡œí•„, ì‹ë³„ | `Speaker`, `SpeakerManager` |
| `voice_store.py` | ìŒì„± ì„ë² ë”© ë²¡í„°DB | `VoiceStore` (Qdrant) |

**Key**: ê° í™”ìëŠ” 512ì°¨ì› ìŒì„± ì„ë² ë”©ìœ¼ë¡œ ì‹ë³„ë¨

#### ğŸ‘¤ Persona & Personalization
| ëª¨ë“ˆ | ì—­í•  | ì£¼ìš” í´ë˜ìŠ¤ |
|------|------|-----------|
| `digital_persona.py` | í†µí•© í™”ì í”„ë¡œí•„ | `DigitalPersona`, `DigitalPersonaManager` |
| `persona_store.py` | JSON ì €ì¥ì†Œ | `PersonaStore` |
| `adapter.py` | QLoRA ì–´ëŒ‘í„° ê´€ë¦¬ | `AdapterManager` |

**DigitalPersona êµ¬ì„±ìš”ì†Œ**:
- Voice: ìŒì„± ì„ë² ë”©, ì‹ ë¢°ë„
- Profile: ì§ì±…, ë¶€ì„œ, ì „ë¬¸ì„±
- Style: ì„±ê²©, ë§íˆ¬, ì†Œí†µ ë°©ì‹
- ML: QLoRA ì–´ëŒ‘í„° ê²½ë¡œ, ë°œì–¸ ìˆ˜, í•™ìŠµ íšŸìˆ˜
- RAG: ê°œì¸ ì»¬ë ‰ì…˜, ë°œì–¸ ì´ë ¥

#### ğŸ¤– LLM Backend
| ëª¨ë“ˆ | ì—­í•  | ì§€ì› ëª¨ë¸ |
|------|------|---------|
| `llm_router.py` | ë¼ìš°íŒ… ë° íŒ©í† ë¦¬ | ëª¨ë“  ë°±ì—”ë“œ |
| `llm_openai.py` | OpenAI API | GPT-4o-mini, GPT-4, etc. |
| `llm_kanana.py` | Kanana ë¡œì»¬ ëª¨ë¸ | kakaocorp/kanana-1.5-2.1b-instruct |
| `llm_ollama.py` | Ollama | llama2, mistral, ë“± |
| `llm_midm.py` | Midm ë¡œì»¬ | K-Intelligence/Midm-2.0-Mini-Instruct |

**ë¼ìš°íŒ… ê·œì¹™**:
```python
"openai:gpt-4o-mini" â†’ OpenAILLM
"kanana:" â†’ KananaLLM (+ AdapterManager if available)
"ollama:llama2" â†’ OllamaLLM
"midm:" â†’ MidmLLM
```

#### ğŸ” RAG & Knowledge
| ëª¨ë“ˆ | ì—­í•  | ì €ì¥ì†Œ |
|------|------|-------|
| `rag_store.py` | ë²¡í„°DB í†µí•© | Qdrant (ë¡œì»¬) |

**2ê°œ ì»¬ë ‰ì…˜**:
1. `meeting_ctx`: íšŒì˜ ë°œì–¸ (ë¬¸ì„œí™” í•„í„°: 3ë‹¨ì–´ ì´ìƒ)
2. `project_docs`: ì—…ë¡œë“œ ë¬¸ì„œ (PDF, DOCX ë“±, ìë™ ì²­í‚¹)

**ì„ë² ë”©**: dragonkue/BGE-m3-ko (í•œêµ­ì–´ ìµœì í™”)

#### ğŸ“š Training
| ëª¨ë“ˆ | ì—­í•  | ì‚°ì¶œë¬¼ |
|------|------|--------|
| `persona_training.py` | ë°ì´í„°ì…‹ ìƒì„± | JSON í¬ë§· ì§€ì‹œì‚¬í•­-ë‹µë³€ ìŒ |
| `persona_training_worker.py` | QLoRA í•™ìŠµ | ì–´ëŒ‘í„° (adapters/{speaker_id}/final/) |

**í•™ìŠµ ì¡°ê±´**:
- ìµœì†Œ 20ê°œ ìœ íš¨ ë°œì–¸ (3ë‹¨ì–´ ì´ìƒ)
- 2 ì—í¬í¬, ë°°ì¹˜ í¬ê¸° 8
- LoRA: r=16, alpha=32
- ì˜µí‹°ë§ˆì´ì €: AdamW, lr=2e-4

#### ğŸ“Š Analysis & Export
| ëª¨ë“ˆ | ì—­í•  | ì¶œë ¥ |
|------|------|------|
| `summarizer.py` | íšŒì˜ ë¶„ì„ | ìš”ì•½, ì•¡ì…˜, ê²°ì •ì‚¬í•­ |
| `offline_meeting.py` | íŒŒì¼ ì²˜ë¦¬ | ìŒì„± íŒŒì¼ â†’ íšŒì˜ ë…¸íŠ¸ |
| `notes_export.py` | í˜•ì‹ ë³€í™˜ | Markdown â†’ HTML |
| `charts.py` | ì‹œê°í™” | í†µê³„ ê·¸ë˜í”„ |

---

## í˜„ì¬ ìƒíƒœ ë° ê¸°ìˆ  ë¶€ì±„

### âœ… ì™„ë£Œëœ ê¸°ëŠ¥
- [x] ì‹¤ì‹œê°„ ìŒì„± ìº¡ì²˜ ë° STT
- [x] í™”ì ì‹ë³„ ë° ë¶„ë¦¬ (Pyannote)
- [x] ë””ì§€í„¸ í˜ë¥´ì†Œë‚˜ ìƒì„±
- [x] QLoRA ê°œì¸í™” í•™ìŠµ
- [x] RAG ê¸°ë°˜ ì§€ëŠ¥í˜• ê²€ìƒ‰
- [x] ë‹¤ì¤‘ LLM ë°±ì—”ë“œ ì§€ì›
- [x] íšŒì˜ ìë™ ë¶„ì„ (ìš”ì•½, ì•¡ì…˜)
- [x] ì–´ëŒ‘í„° ë©”ëª¨ë¦¬ ìµœì í™” (ì§€ì—° ë¡œë”©)
- [x] ë°œì–¸ í•„í„°ë§ (3ë‹¨ì–´ ì´ìƒ)
- [x] í™”ì ì‚­ì œ ì‹œ ì–´ëŒ‘í„° ìë™ ì •ë¦¬

### âš ï¸ ì•Œë ¤ì§„ ë¬¸ì œ

#### ğŸ”´ ë†’ì€ ìš°ì„ ìˆœìœ„ (Critical)

1. **ì½”ë“œ ì¡°ì§í™” ë¬¸ì œ**
   - `meeting_console.py`: 83KB ë‹¨ì¼ íŒŒì¼
   - ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§, ìŠ¤ë ˆë”©, UIê°€ í˜¼ì¬
   - **ì˜í–¥**: ìœ ì§€ë³´ìˆ˜ ì–´ë ¤ì›€, í…ŒìŠ¤íŠ¸ ë¶ˆê°€ëŠ¥

2. **Type Hints ë¶€ì¡±**
   - `summarizer.py`, `offline_meeting.py` ë“± ë§ì€ í•¨ìˆ˜ì— íƒ€ì… íŒíŠ¸ ì—†ìŒ
   - **ì˜í–¥**: IDE ìë™ ì™„ì„± ì•ˆ ë¨, ì •ì  ë¶„ì„ ë¶ˆê°€ëŠ¥

3. **ì—ëŸ¬ ì²˜ë¦¬ ë¯¸í¡**
   - ë§ì€ try/catchê°€ ë‹¨ìˆœ íŒ¨ìŠ¤
   - ëª¨ë¸ ë¡œë”© ì‹¤íŒ¨ â†’ ì‚¬ìš©ì í”¼ë“œë°± ì—†ìŒ
   - **ì˜í–¥**: ì‚¬ìš©ìê°€ ì™œ ì‘ë™ ì•ˆ í•˜ëŠ”ì§€ ëª¨ë¦„

4. **.env ë³´ì•ˆ ë¬¸ì œ**
   - API í‚¤ê°€ ì €ì¥ì†Œì— ë…¸ì¶œë¨ (git history)
   - **ì˜í–¥**: ê³„ì • íƒˆì·¨ ìœ„í—˜

#### ğŸŸ¡ ì¤‘ê°„ ìš°ì„ ìˆœìœ„ (Medium)

5. **ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ê°€ëŠ¥ì„±**
   - QLoRA ì–´ëŒ‘í„° ì§€ì—° ë¡œë”© êµ¬í˜„í–ˆìœ¼ë‚˜ ê²€ì¦ ì•ˆ ë¨
   - ê¸´ ì„¸ì…˜ ì¤‘ GPU ë©”ëª¨ë¦¬ ë¶€ì¡± ê°€ëŠ¥ì„±
   - **í…ŒìŠ¤íŠ¸ í•„ìš”**: 8ì‹œê°„ ì—°ì† íšŒì˜ ë…¹ìŒ

6. **ìŒì„± ì‹ë³„ ì •í™•ë„ ë‚®ìŒ**
   - ë‹¨ìˆœ ì½”ì‚¬ì¸ ìœ ì‚¬ë„ + ê³ ì • ì„ê³„ê°’
   - ë¹„ìŠ·í•œ ëª©ì†Œë¦¬ ì˜¤ì¸ ê°€ëŠ¥ì„±
   - **ê°œì„ **: ì„ê³„ê°’ í•™ìŠµ, ì»¨í…ìŠ¤íŠ¸ í™œìš©

7. **RAG ê´€ë ¨ì„± ë‚®ìŒ**
   - ì¼ë°˜ ëª©ì ì˜ `BGE-m3-ko` ì‚¬ìš©
   - íšŒì˜/ë¹„ì¦ˆë‹ˆìŠ¤ ë„ë©”ì¸ ìµœì í™” ì—†ìŒ
   - **ê°œì„ **: Fine-tuning ë˜ëŠ” domain-specific ëª¨ë¸

8. **ë¬¸ì„œ ì²˜ë¦¬ ë¶ˆì™„ì „**
   - PDF ì¶”ì¶œ ì˜¤ë¥˜ ê°€ëŠ¥ì„±
   - íŠ¹ìˆ˜ í¬ë§· ë¯¸ì§€ì› (.hwp ë¶€ë¶„ë§Œ ì§€ì›)
   - **í…ŒìŠ¤íŠ¸ í•„ìš”**: ë‹¤ì–‘í•œ ë¬¸ì„œ í˜•ì‹

#### ğŸ”µ ë‚®ì€ ìš°ì„ ìˆœìœ„ (Nice-to-Have)

9. **í…ŒìŠ¤íŠ¸ ì½”ë“œ ì „ë¬´**
   - 54ê°œ Python íŒŒì¼, 0ê°œ í…ŒìŠ¤íŠ¸ íŒŒì¼
   - **ìœ„í—˜**: íšŒê·€ ë²„ê·¸ ë†’ìŒ

10. **ë¡œê¹… ì¼ê´€ì„±**
    - `print()` vs `logging` í˜¼ìš©
    - êµ¬ì¡°í™”ëœ ë¡œê¹… ì—†ìŒ
    - **ì˜í–¥**: ë””ë²„ê¹… ì–´ë ¤ì›€

11. **ë‹¤ì¤‘ ì–¸ì–´ ë¯¸ì§€ì›**
    - í•œêµ­ì–´ ìµœì í™”ë§Œ ë¨
    - ì˜ì–´/ì¤‘êµ­ì–´ ì§€ì› ë¶€ë¶„ì 
    - **í…ŒìŠ¤íŠ¸ í•„ìš”**: ë‹¤ì–‘í•œ ì–¸ì–´

---

## ë¦¬íŒ©í† ë§ ê³„íš

### Phase 1: êµ¬ì¡° ì •ë¦¬ (1-2ì£¼)

#### 1.1 `meeting_console.py` ë¶„í• 
**ë¬¸ì œ**: 83KB ë‹¨ì¼ íŒŒì¼, ê¸°ëŠ¥ í˜¼ì¬

**ê³„íš**:
```
ui/
â”œâ”€â”€ meeting_console.py (ë©”ì¸ ìœˆë„ìš°, ì¡°ìœ¨ë§Œ)
â”œâ”€â”€ tabs/
â”‚   â”œâ”€â”€ recording_tab.py (ë…¹ìŒ, ì„¸ê·¸ë¨¼íŠ¸)
â”‚   â”œâ”€â”€ summary_tab.py (ìš”ì•½, ì•¡ì…˜)
â”‚   â””â”€â”€ personas_tab.py (í™”ì ëª©ë¡, í”„ë¡œí•„)
â””â”€â”€ widgets/
    â”œâ”€â”€ segment_display.py
    â”œâ”€â”€ action_item_widget.py
    â””â”€â”€ speaker_selector.py
```

**íš¨ê³¼**: ê° íŒŒì¼ < 20KB, ê¸°ëŠ¥ ë¶„ë¦¬, í…ŒìŠ¤íŠ¸ ìš©ì´

#### 1.2 ëª¨ë“ˆ íŒ¨í‚¤ì§€í™”
**ë¬¸ì œ**: `/core` í‰ë©´ êµ¬ì¡°, 31ê°œ íŒŒì¼ í˜¼ì¬

**ê³„íš**:
```
core/
â”œâ”€â”€ audio/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ processor.py (AudioWorker)
â”‚   â””â”€â”€ diarization.py
â”œâ”€â”€ persona/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ digital_persona.py
â”‚   â”œâ”€â”€ adapter.py
â”‚   â””â”€â”€ store.py
â”œâ”€â”€ llm/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ router.py
â”‚   â”œâ”€â”€ backends/
â”‚   â”‚   â”œâ”€â”€ openai.py
â”‚   â”‚   â”œâ”€â”€ kanana.py
â”‚   â”‚   â””â”€â”€ ...
â”œâ”€â”€ rag/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ store.py
â”‚   â””â”€â”€ retriever.py
â””â”€â”€ training/
    â”œâ”€â”€ __init__.py
    â””â”€â”€ trainer.py
```

**íš¨ê³¼**: ë…¼ë¦¬ì  ê·¸ë£¹í™”, ìˆœí™˜ ì˜ì¡´ì„± ì œê±°, ëª…í™•í•œ API

### Phase 2: íƒ€ì… ì‹œìŠ¤í…œ ê°œì„  (1ì£¼)

#### 2.1 íƒ€ì… íŒíŠ¸ ì¶”ê°€
```python
# Before
def search(query, topk):
    # ...

# After
def search(query: str, topk: int = 5) -> List[Dict[str, Any]]:
    """
    Args:
        query: ê²€ìƒ‰ ì¿¼ë¦¬
        topk: ë°˜í™˜í•  ê²°ê³¼ ìˆ˜

    Returns:
        ê²€ìƒ‰ ê²°ê³¼ ë¦¬ìŠ¤íŠ¸
    """
```

**ëŒ€ìƒ ëª¨ë“ˆ**: summarizer, offline_meeting, rag_store (ìš°ì„ ìˆœìœ„)

#### 2.2 Pydantic ëª¨ë¸ í™•ëŒ€
```python
# core/schemas.py
class Segment(BaseModel):
    speaker_id: str
    text: str
    start: float
    end: float
    embedding: Optional[List[float]]

class RAGResult(BaseModel):
    text: str
    metadata: Dict[str, Any]
    score: float

# ì´ë ‡ê²Œ í•˜ë©´ IDE ìë™ì™„ì„± + ëŸ°íƒ€ì„ ê²€ì¦
```

### Phase 3: ì—ëŸ¬ ì²˜ë¦¬ ê°•í™” (1ì£¼)

#### 3.1 Custom Exception í´ë˜ìŠ¤
```python
# core/exceptions.py
class PersonaAIError(Exception):
    """ê¸°ë³¸ ì˜ˆì™¸"""
    pass

class ModelLoadError(PersonaAIError):
    """ëª¨ë¸ ë¡œë“œ ì‹¤íŒ¨"""
    pass

class AudioError(PersonaAIError):
    """ì˜¤ë””ì˜¤ ì²˜ë¦¬ ì‹¤íŒ¨"""
    pass

class RAGError(PersonaAIError):
    """RAG ê²€ìƒ‰ ì‹¤íŒ¨"""
    pass
```

#### 3.2 ì—ëŸ¬ ì²˜ë¦¬ ê°œì„ 
```python
# Before
try:
    model = load_model(path)
except:
    pass  # ë¬´ì‹œ

# After
try:
    model = load_model(path)
except ModelLoadError as e:
    logger.error(f"ëª¨ë¸ ë¡œë“œ ì‹¤íŒ¨: {e}")
    self.ui_signal.emit(f"ëª¨ë¸ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤: {path}")
    raise
```

### Phase 4: í…ŒìŠ¤íŠ¸ ì¶”ê°€ (2ì£¼)

#### 4.1 ë‹¨ìœ„ í…ŒìŠ¤íŠ¸
```
tests/
â”œâ”€â”€ test_speaker.py (í™”ì ì‹ë³„)
â”œâ”€â”€ test_adapter.py (QLoRA ë¡œë“œ/ì–¸ë¡œë“œ)
â”œâ”€â”€ test_rag.py (ê²€ìƒ‰ ì •í™•ë„)
â”œâ”€â”€ test_audio.py (ìŒì„± ì²˜ë¦¬)
â””â”€â”€ test_persona.py (í”„ë¡œí•„ ì €ì¥/ë¡œë“œ)
```

#### 4.2 í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ ëª©í‘œ
- Core ëª¨ë“ˆ: 70% ì´ìƒ
- Critical path: 90% ì´ìƒ (audio, adapter, speaker)

### Phase 5: ë¬¸ì„œí™” (1ì£¼)

#### 5.1 API ë¬¸ì„œ
- ê° ê³µê°œ í•¨ìˆ˜/í´ë˜ìŠ¤ docstring
- íŒŒë¼ë¯¸í„° ì„¤ëª…, ë°˜í™˜ê°’, ì˜ˆì™¸
- ì‚¬ìš© ì˜ˆì œ

#### 5.2 ì•„í‚¤í…ì²˜ ë¬¸ì„œ
- ë°ì´í„° íë¦„ ë‹¤ì´ì–´ê·¸ë¨
- ëª¨ë“ˆ ì˜ì¡´ì„± ê·¸ë˜í”„
- ë°°í¬ ê°€ì´ë“œ

### ì‹¤í–‰ ì¼ì •
```
ì£¼ì°¨ 1: Phase 1 (êµ¬ì¡° ì •ë¦¬)
ì£¼ì°¨ 2: Phase 2 (íƒ€ì… ì‹œìŠ¤í…œ)
ì£¼ì°¨ 3: Phase 3 (ì—ëŸ¬ ì²˜ë¦¬)
ì£¼ì°¨ 4-5: Phase 4 (í…ŒìŠ¤íŠ¸)
ì£¼ì°¨ 6: Phase 5 (ë¬¸ì„œí™”)
```

### ë¦¬íŒ©í† ë§ ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] meeting_console.py ë¶„í•  (4ê°œ íŒŒì¼)
- [ ] /core íŒ¨í‚¤ì§€í™” (5ê°œ ì„œë¸ŒíŒ¨í‚¤ì§€)
- [ ] 100ê°œ+ í•¨ìˆ˜ì— íƒ€ì… íŒíŠ¸ ì¶”ê°€
- [ ] Custom exception í´ë˜ìŠ¤ ì •ì˜
- [ ] 30ê°œ+ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‘ì„±
- [ ] API ë¬¸ì„œ ì‘ì„± (README.md í¬í•¨)
- [ ] ì˜ì¡´ì„± ê·¸ë˜í”„ ë‹¤ì´ì–´ê·¸ë¨ ì¶”ê°€
- [ ] ë°°í¬ ê°€ì´ë“œ ì‘ì„±

---

## í–¥í›„ ê°œì„  ì‚¬í•­

### ğŸ¯ ë‹¨ê¸° (1ê°œì›”)
- [ ] í™”ì ì‹ë³„ ì •í™•ë„ ê°œì„  (ì„ê³„ê°’ í•™ìŠµ)
- [ ] GPU ë©”ëª¨ë¦¬ ìµœì í™” (ë°°ì¹˜ í¬ê¸° íŠœë‹)
- [ ] ë‹¤êµ­ì–´ ì§€ì› (ì˜ì–´, ì¤‘êµ­ì–´)
- [ ] ì„±ëŠ¥ í”„ë¡œíŒŒì¼ë§ ë° ìµœì í™”

### ğŸ”® ì¤‘ê¸° (3ê°œì›”)
- [ ] RAG Fine-tuning (ë„ë©”ì¸ íŠ¹í™”)
- [ ] ì›¹ UI ì¶”ê°€ (ì›¹ì„œë²„ ì—†ìŒ, ì¼ë ‰íŠ¸ë¡ )
- [ ] íŒ€ í˜‘ì—… ê¸°ëŠ¥ (ì¤‘ì•™ íšŒì˜ ì €ì¥ì†Œ)
- [ ] íšŒì˜ ì‹¤ì‹œê°„ ì•Œë¦¼ (ì•¡ì…˜ ì•„ì´í…œ)

### ğŸš€ ì¥ê¸° (6ê°œì›”+)
- [ ] ìŒì„± ê°ì • ë¶„ì„
- [ ] íšŒì˜ ì‹¤ì‹œê°„ ë²ˆì—­
- [ ] ê¸°ì—… ë„¤íŠ¸ì›Œí¬ í†µí•© (ìŠ¬ë™, íŒ€ì¦ˆ)
- [ ] ëª¨ë°”ì¼ ì•± (React Native)

---

## ê¸°ìˆ  ìŠ¤íƒ ìš”ì•½

| ê³„ì¸µ | ê¸°ìˆ  ìŠ¤íƒ |
|------|---------|
| **UI/Frontend** | PySide6 (Qt6) |
| **Audio** | PyAudio, Faster-Whisper, Pyannote |
| **LLM** | HuggingFace Transformers, QLoRA (PEFT) |
| **RAG** | Qdrant, BGE-m3-ko |
| **ë°ì´í„°** | JSON (FS), SQLite (ì„ íƒì‚¬í•­) |
| **ML/DL** | PyTorch 2.5 + CUDA 12.1 |
| **ë„êµ¬** | Git, Python 3.10+, pip |

---

## ë¼ì´ì„ ìŠ¤ ë° ê¸°ì—¬

ì´ í”„ë¡œì íŠ¸ëŠ” ì—°êµ¬/êµìœ¡ ëª©ì ìœ¼ë¡œ ì œì‘ë˜ì—ˆìŠµë‹ˆë‹¤.

**ê¸°ì—¬ ê°€ì´ë“œ**:
1. Fork â†’ Branch â†’ Commit â†’ PR
2. ì»¤ë°‹ ë©”ì‹œì§€: í•œê¸€ ë˜ëŠ” ì˜ì–´ (ëª…í™•í•˜ê²Œ)
3. ì½”ë“œ ìŠ¤íƒ€ì¼: Black í¬ë§·íŒ…, íƒ€ì… íŒíŠ¸ í¬í•¨

---

## ì—°ë½ì²˜ & ì§€ì›

- ë¬¸ì œ ë³´ê³ : GitHub Issues
- ê¸°ëŠ¥ ìš”ì²­: GitHub Discussions
- ì´ë©”ì¼: [contact info]

---

## ë¶€ë¡: ëª¨ë“ˆ ì˜ì¡´ì„± ê·¸ë˜í”„

```
app.py
  â†“
ui/
â”œâ”€â”€ meeting_console.py (ë©”ì¸ ì¡°ìœ¨)
â”‚   â”œâ”€â”€ chat_dock.py
â”‚   â”‚   â”œâ”€â”€ llm_router.py
â”‚   â”‚   â”‚   â”œâ”€â”€ llm_openai.py
â”‚   â”‚   â”‚   â”œâ”€â”€ llm_kanana.py
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ adapter.py (QLoRA)
â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â”œâ”€â”€ rag_store.py
â”‚   â”‚   â”‚   â””â”€â”€ voice_store.py
â”‚   â”‚   â””â”€â”€ digital_persona.py
â”‚   â”œâ”€â”€ upload_minutes.py
â”‚   â”‚   â”œâ”€â”€ persona_training.py
â”‚   â”‚   â””â”€â”€ persona_training_worker.py
â”‚   â”œâ”€â”€ meeting_settings.py
â”‚   â””â”€â”€ ...
â”‚
â””â”€â”€ core/
    â”œâ”€â”€ audio.py (ì‹¤ì‹œê°„)
    â”‚   â”œâ”€â”€ speaker.py
    â”‚   â””â”€â”€ voice_store.py
    â”œâ”€â”€ diarization.py
    â”œâ”€â”€ summarizer.py
    â””â”€â”€ offline_meeting.py
```

---

**ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸**: 2025-11-17
**ë¬¸ì„œ ë²„ì „**: 1.0
**ìƒíƒœ**: ë¦¬íŒ©í† ë§ ëŒ€ê¸° ì¤‘
